<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>
	<h2>Hello JavaScript </h2>
	<script>
		//Using fetch method

   fetch('https://icanhazdadjoke.com/',{
    headers:{
     Accept: "application/json",
  },
})
.then(response => response.json())
.then(data => console.log(data.joke))
.catch(err => console.log(err))


//Using fetch with async and await .

async function getData(){
 try{
  const responseUrl = await fetch('https://icanhazdadjoke.com/',{
    headers:{
      Accept : "application/json",
    },
  })
    const response = await responseUrl.json();
    const jokes =  await response.joke;
    console.log(jokes)
  }
  catch(error){
    console.log(error)
  }
}

//Learning Promise

const getPromise = new Promise((resolve , reject) =>{
  let status = false;
  if(!status){
  console.log("Resolve Done");
  resolve("Finally promise is resolve")
  }
  else{
  console.log("Reject Done");
  reject("Error: fetch is not completed")   
  }

})
.then((resolves)=>{
  console.log(resolves)
})
.catch((e)=>{
  console.log(e)
})

// fetching quotes api using async and await 

let url = "https://goquotes-api.herokuapp.com/api/v1/random?count=100";

let quote = ""

let randomNumber = Math.floor(Math.random()*100)

btnClick.addEventListener('click', getQuotes)

async function getQuotes(){

 const apiFetching = await fetch(url)
 let response = await apiFetching.json()
  quote = await response.quotes[randomNumber].text
  showOutput()
}

function showOutput (){
  let createElements = document.createElement('div')
  let textsNode = document.createTextNode(quote)
  createElements.appendChild(textsNode)
  const quotesGenerator = document.querySelector('#quotes-generator')
  quotesGenerator.appendChild(createElements);
}



	</script>

</body>

</html>